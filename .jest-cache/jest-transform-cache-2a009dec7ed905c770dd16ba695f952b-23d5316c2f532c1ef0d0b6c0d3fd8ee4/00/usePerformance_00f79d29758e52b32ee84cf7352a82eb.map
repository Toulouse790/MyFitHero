{"version":3,"names":["cov_t9hoq8v2p","actualCoverage","react_1","s","__importDefault","require","useResourcePreload","f","default","useEffect","fonts","forEach","font","link","document","createElement","rel","as","type","crossOrigin","href","head","appendChild","criticalImages","img","exports","useWebVitals","imageObserver","IntersectionObserver","entries","entry","isIntersecting","b","target","dataset","src","removeAttribute","unobserve","rootMargin","querySelectorAll","observe","disconnect","useCLSOptimization","images","imgElement","style","aspectRatio","backgroundColor","dynamicContainers","container","element","minHeight"],"sources":["/workspaces/MyFitHero/src/shared/hooks/usePerformance.ts"],"sourcesContent":["import React from 'react';\n\n// Hook pour précharger les ressources critiques\nexport const useResourcePreload = () => {\n  React.useEffect(() => {\n    // Précharger les fonts critiques\n    const fonts = [\n      'Inter-Regular.woff2',\n      'Inter-Medium.woff2',\n      'Inter-SemiBold.woff2'\n    ];\n    \n    fonts.forEach(font => {\n      const link = document.createElement('link');\n      link.rel = 'preload';\n      link.as = 'font';\n      link.type = 'font/woff2';\n      link.crossOrigin = 'anonymous';\n      link.href = `/fonts/${font}`;\n      document.head.appendChild(link);\n    });\n    \n    // Précharger les images critiques\n    const criticalImages = [\n      '/icon-192.svg',\n      '/icon-512.svg'\n    ];\n    \n    criticalImages.forEach(img => {\n      const link = document.createElement('link');\n      link.rel = 'preload';\n      link.as = 'image';\n      link.href = img;\n      document.head.appendChild(link);\n    });\n  }, []);\n};\n\n// Hook pour optimiser les Web Vitals\nexport const useWebVitals = () => {\n  React.useEffect(() => {\n    // Observer Intersection pour lazy loading avancé\n    const imageObserver = new IntersectionObserver(\n      (entries) => {\n        entries.forEach(entry => {\n          if (entry.isIntersecting) {\n            const img = entry.target as HTMLImageElement;\n            if (img.dataset.src) {\n              img.src = img.dataset.src;\n              img.removeAttribute('data-src');\n              imageObserver.unobserve(img);\n            }\n          }\n        });\n      },\n      { rootMargin: '50px' }\n    );\n    \n    // Observer toutes les images avec data-src\n    document.querySelectorAll('img[data-src]').forEach(img => {\n      imageObserver.observe(img);\n    });\n    \n    return () => imageObserver.disconnect();\n  }, []);\n};\n\n// Hook pour réduire le Cumulative Layout Shift\nexport const useCLSOptimization = () => {\n  React.useEffect(() => {\n    // Ajouter des dimensions par défaut aux images sans taille\n    const images = document.querySelectorAll('img:not([width]):not([height])');\n    images.forEach(img => {\n      const imgElement = img as HTMLImageElement;\n      imgElement.style.aspectRatio = '1 / 1';\n      imgElement.style.backgroundColor = '#f3f4f6';\n    });\n    \n    // Préserver l'espace pour le contenu dynamique\n    const dynamicContainers = document.querySelectorAll('[data-dynamic]');\n    dynamicContainers.forEach(container => {\n      const element = container as HTMLElement;\n      if (!element.style.minHeight) {\n        element.style.minHeight = '200px';\n      }\n    });\n  }, []);\n};"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;I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","ignoreList":[]}