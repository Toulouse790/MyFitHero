{"version":3,"names":["react_1","cov_k3q34mu7r","s","__importStar","require","utils_1","generateBlurDataURL","width","b","height","f","canvas","document","createElement","ctx","getContext","gradient","createLinearGradient","addColorStop","fillStyle","fillRect","toDataURL","supportsWebP","Promise","resolve","webP","Image","onload","onerror","src","useIntersectionObserver","elementRef","options","isIntersecting","setIsIntersecting","useState","useEffect","element","current","observer","IntersectionObserver","entry","disconnect","threshold","rootMargin","observe","getOptimizedSrc","quality","startsWith","url","URL","searchParams","set","toString","generateSrcSet","widths","map","index","optimizedSrc","join","OptimizedImage","alt","priority","className","objectFit","placeholder","blurDataURL","sizes","onClick","isLoaded","setIsLoaded","isError","setIsError","webPSupported","setWebPSupported","currentSrc","setCurrentSrc","imgRef","useRef","containerRef","shouldLoad","then","defaultBlurDataURL","undefined","handleLoad","useCallback","handleError","containerStyles","position","display","overflow","imageStyles","transition","opacity","placeholderStyles","top","left","backgroundImage","backgroundSize","backgroundPosition","filter","backgroundColor","errorStyles","alignItems","justifyContent","color","fontSize","fontWeight","jsx_runtime_1","jsxs","ref","style","cn","role","tabIndex","children","jsx","srcSet","onLoad","onError","loading","decoding","draggable","exports","default"],"sources":["/workspaces/MyFitHero/src/shared/components/OptimizedImage.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { cn } from '@/lib/utils';\n\ninterface OptimizedImageProps {\n  src: string;\n  alt: string;\n  width?: number;\n  height?: number;\n  priority?: boolean;\n  className?: string;\n  objectFit?: 'cover' | 'contain' | 'fill' | 'none' | 'scale-down';\n  placeholder?: 'blur' | 'empty';\n  blurDataURL?: string;\n  sizes?: string;\n  quality?: number;\n  onClick?: () => void;\n}\n\n// GÃ©nÃ©rer un placeholder blur par dÃ©faut\nconst generateBlurDataURL = (width: number = 10, height: number = 10): string => {\n  const canvas = document.createElement('canvas');\n  canvas.width = width;\n  canvas.height = height;\n  const ctx = canvas.getContext('2d');\n  \n  if (ctx) {\n    // CrÃ©er un gradient simple pour le blur\n    const gradient = ctx.createLinearGradient(0, 0, width, height);\n    gradient.addColorStop(0, '#f3f4f6');\n    gradient.addColorStop(0.5, '#e5e7eb');\n    gradient.addColorStop(1, '#d1d5db');\n    \n    ctx.fillStyle = gradient;\n    ctx.fillRect(0, 0, width, height);\n  }\n  \n  return canvas.toDataURL('image/jpeg', 0.1);\n};\n\n// DÃ©tecter le support WebP\nconst supportsWebP = (): Promise<boolean> => {\n  return new Promise((resolve) => {\n    const webP = new Image();\n    webP.onload = webP.onerror = () => {\n      resolve(webP.height === 2);\n    };\n    webP.src = 'data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA';\n  });\n};\n\n// Hook pour Intersection Observer (lazy loading)\nconst useIntersectionObserver = (\n  elementRef: React.RefObject<HTMLElement>,\n  options: IntersectionObserverInit = {}\n): boolean => {\n  const [isIntersecting, setIsIntersecting] = useState(false);\n\n  useEffect(() => {\n    const element = elementRef.current;\n    if (!element) return;\n\n    const observer = new IntersectionObserver(\n      ([entry]) => {\n        if (entry.isIntersecting) {\n          setIsIntersecting(true);\n          observer.disconnect();\n        }\n      },\n      {\n        threshold: 0.1,\n        rootMargin: '50px',\n        ...options,\n      }\n    );\n\n    observer.observe(element);\n\n    return () => observer.disconnect();\n  }, [elementRef, options]);\n\n  return isIntersecting;\n};\n\n// Convertir src vers format WebP si supportÃ©\nconst getOptimizedSrc = (src: string, supportsWebP: boolean, quality: number = 85): string => {\n  // Si c'est dÃ©jÃ  un fichier local, retourner tel quel\n  if (src.startsWith('/') || src.startsWith('./') || src.startsWith('../')) {\n    return src;\n  }\n\n  // Pour les URLs externes, ajouter les paramÃ¨tres d'optimisation\n  try {\n    const url = new URL(src);\n    \n    // Ajouter les paramÃ¨tres de qualitÃ©\n    url.searchParams.set('q', quality.toString());\n    \n    // Si WebP supportÃ©, demander ce format\n    if (supportsWebP) {\n      url.searchParams.set('f', 'webp');\n    }\n    \n    return url.toString();\n  } catch {\n    // Si l'URL n'est pas valide, retourner l'original\n    return src;\n  }\n};\n\n// GÃ©nÃ©rer srcSet pour responsive\nconst generateSrcSet = (src: string, supportsWebP: boolean, quality: number): string => {\n  const widths = [320, 480, 768, 1024, 1280, 1920];\n  \n  return widths\n    .map((width, index) => {\n      const optimizedSrc = getOptimizedSrc(src, supportsWebP, quality);\n      try {\n        const url = new URL(optimizedSrc);\n        url.searchParams.set('w', width.toString());\n        return `${url.toString()} ${width}w`;\n      } catch {\n        return `${optimizedSrc} ${width}w`;\n      }\n    })\n    .join(', ');\n};\n\nexport const OptimizedImage: React.FC<OptimizedImageProps> = ({\n  src,\n  alt,\n  width,\n  height,\n  priority = false,\n  className,\n  objectFit = 'cover',\n  placeholder = 'blur',\n  blurDataURL,\n  sizes = '(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw',\n  quality = 85,\n  onClick,\n}) => {\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [isError, setIsError] = useState(false);\n  const [webPSupported, setWebPSupported] = useState(false);\n  const [currentSrc, setCurrentSrc] = useState<string>('');\n  \n  const imgRef = useRef<HTMLImageElement>(null);\n  const containerRef = useRef<HTMLDivElement>(null);\n  \n  // Lazy loading avec Intersection Observer (sauf si priority)\n  const isIntersecting = useIntersectionObserver(containerRef, {\n    threshold: 0.1,\n    rootMargin: '50px'\n  });\n  \n  const shouldLoad = priority || isIntersecting;\n\n  // DÃ©tecter le support WebP au montage\n  useEffect(() => {\n    supportsWebP().then(setWebPSupported);\n  }, []);\n\n  // GÃ©nÃ©rer le blur placeholder\n  const defaultBlurDataURL = blurDataURL || generateBlurDataURL(width || 20, height || 20);\n\n  // Mettre Ã  jour la source quand les conditions sont rÃ©unies\n  useEffect(() => {\n    if (shouldLoad && webPSupported !== undefined) {\n      const optimizedSrc = getOptimizedSrc(src, webPSupported, quality);\n      setCurrentSrc(optimizedSrc);\n    }\n  }, [shouldLoad, webPSupported, src, quality]);\n\n  // Gestionnaires d'Ã©vÃ©nements\n  const handleLoad = useCallback(() => {\n    setIsLoaded(true);\n    setIsError(false);\n  }, []);\n\n  const handleError = useCallback(() => {\n    setIsError(true);\n    setIsLoaded(false);\n    \n    // Fallback vers l'image originale si l'optimisÃ©e Ã©choue\n    if (currentSrc !== src) {\n      setCurrentSrc(src);\n    }\n  }, [currentSrc, src]);\n\n  // Styles pour le container\n  const containerStyles: React.CSSProperties = {\n    position: 'relative',\n    display: 'inline-block',\n    overflow: 'hidden',\n    width: width ? `${width}px` : '100%',\n    height: height ? `${height}px` : 'auto',\n  };\n\n  // Styles pour l'image\n  const imageStyles: React.CSSProperties = {\n    width: '100%',\n    height: '100%',\n    objectFit,\n    transition: 'opacity 0.3s ease-in-out',\n    opacity: isLoaded ? 1 : 0,\n  };\n\n  // Styles pour le placeholder\n  const placeholderStyles: React.CSSProperties = {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    width: '100%',\n    height: '100%',\n    backgroundImage: placeholder === 'blur' ? `url(${defaultBlurDataURL})` : undefined,\n    backgroundSize: 'cover',\n    backgroundPosition: 'center',\n    filter: 'blur(5px)',\n    opacity: isLoaded ? 0 : 1,\n    transition: 'opacity 0.3s ease-in-out',\n    backgroundColor: '#f3f4f6',\n  };\n\n  // Styles pour l'Ã©tat d'erreur\n  const errorStyles: React.CSSProperties = {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    width: '100%',\n    height: '100%',\n    backgroundColor: '#f3f4f6',\n    color: '#6b7280',\n    fontSize: '14px',\n    fontWeight: 500,\n  };\n\n  return (\n    <div\n      ref={containerRef}\n      style={containerStyles}\n      className={cn('relative', className)}\n      onClick={onClick}\n      role={onClick ? 'button' : undefined}\n      tabIndex={onClick ? 0 : undefined}\n    >\n      {/* Placeholder blur */}\n      {!isLoaded && !isError && (\n        <div\n          style={placeholderStyles}\n          className=\"animate-pulse\"\n          aria-label=\"Image en cours de chargement\"\n        />\n      )}\n\n      {/* Image principale */}\n      {shouldLoad && currentSrc && !isError && (\n        <img\n          ref={imgRef}\n          src={currentSrc}\n          srcSet={webPSupported ? generateSrcSet(src, webPSupported, quality) : undefined}\n          sizes={sizes}\n          alt={alt}\n          style={imageStyles}\n          onLoad={handleLoad}\n          onError={handleError}\n          loading={priority ? 'eager' : 'lazy'}\n          decoding=\"async\"\n          draggable={false}\n        />\n      )}\n\n      {/* Ã‰tat d'erreur */}\n      {isError && (\n        <div style={errorStyles}>\n          <div className=\"text-center\">\n            <div className=\"text-2xl mb-2\">ðŸ“·</div>\n            <div>Image indisponible</div>\n          </div>\n        </div>\n      )}\n\n      {/* Indicateur de chargement prioritaire */}\n      {priority && !isLoaded && !isError && (\n        <div className=\"absolute inset-0 flex items-center justify-center bg-gray-100\">\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default OptimizedImage;"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}