{"version":3,"names":["cov_bjmdqu49h","actualCoverage","s","react_1","require","useAICoach","f","session","setSession","useState","messages","setMessages","recommendations","setRecommendations","loading","setLoading","error","setError","sendMessage","useCallback","content","trim","b","userMessage","id","Date","now","toString","role","timestamp","prev","aiMessage","err","Error","message","getRecommendations","startSession","topic","userId","clearSession","exports"],"sources":["/workspaces/MyFitHero/src/features/ai-coach/hooks/useAICoach.ts"],"sourcesContent":["import { Star } from 'lucide-react';\nimport React, { useState, useCallback } from 'react';\nimport type { CoachingSession, Message, Recommendation } from '@/features/ai-coach/types';\n\nexport const useAICoach = () => {\n  const [session, setSession] = useState<CoachingSession | null>(null);\n  const [messages, setMessages] = useState<Message[]>([]);\n  const [recommendations, setRecommendations] = useState<Recommendation[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  const sendMessage = useCallback(\n    async (content: string) => {\n      if (!content.trim()) return;\n\n      setLoading(true);\n      setError(null);\n\n      // Ajouter le message de l'utilisateur immédiatement\n      const userMessage: Message = {\n        id: Date.now().toString(),\n        role: 'user',\n        content: content.trim(),\n        timestamp: new Date(),\n      };\n      setMessages(prev => [...prev, userMessage]);\n\n      try {\n        // Implementation à venir\n        // const response = await AICoachService.submitQuestion(content, session?.context);\n\n        // Simuler une réponse de l'IA (à remplacer par l'appel au service)\n        const aiMessage: Message = {\n          id: (Date.now() + 1).toString(),\n          role: 'assistant',\n          content: \"Réponse simulée de l'IA Coach...\",\n          timestamp: new Date(),\n        };\n        setMessages(prev => [...prev, aiMessage]);\n      } catch (err) {\n        setError(err instanceof Error ? err.message : \"Erreur lors de l'envoi du message\");\n      } finally {\n        setLoading(false);\n      }\n    },\n    [session]\n  );\n\n  const getRecommendations = useCallback(async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      // Implementation à venir\n      // const recs = await AICoachService.getPersonalizedPlan(userProfile);\n      // setRecommendations(recs);\n    } catch (err) {\n      setError(\n        err instanceof Error ? err.message : 'Erreur lors du chargement des recommandations'\n      );\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  const startSession = useCallback(async (topic: string, userId: string) => {\n    setLoading(true);\n    setError(null);\n    try {\n      // Implementation à venir\n      // const newSession = await AICoachService.getCoachingSession(userId, topic);\n      // setSession(newSession);\n      // setMessages(newSession.messages || []);\n      // setRecommendations(newSession.recommendations || []);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Erreur lors du démarrage de la session');\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  const clearSession = useCallback(() => {\n    setSession(null);\n    setMessages([]);\n    setRecommendations([]);\n    setError(null);\n  }, []);\n\n  return {\n    session,\n    messages,\n    recommendations,\n    loading,\n    error,\n    sendMessage,\n    getRecommendations,\n    startSession,\n    clearSession,\n  };\n};\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAkBM;IAAAA,aAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,aAAA;AAAAA,aAAA,GAAAE,CAAA;;;;;;;AAjBN,MAAAC,OAAA;AAAA;AAAA,CAAAH,aAAA,GAAAE,CAAA,OAAAE,OAAA;AAAqD;AAAAJ,aAAA,GAAAE,CAAA;AAG9C,MAAMG,UAAU,GAAGA,CAAA,KAAK;EAAA;EAAAL,aAAA,GAAAM,CAAA;EAC7B,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC;EAAA;EAAA,CAAAR,aAAA,GAAAE,CAAA,OAAG,IAAAC,OAAA,CAAAM,QAAQ,EAAyB,IAAI,CAAC;EACpE,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC;EAAA;EAAA,CAAAX,aAAA,GAAAE,CAAA,OAAG,IAAAC,OAAA,CAAAM,QAAQ,EAAY,EAAE,CAAC;EACvD,MAAM,CAACG,eAAe,EAAEC,kBAAkB,CAAC;EAAA;EAAA,CAAAb,aAAA,GAAAE,CAAA,OAAG,IAAAC,OAAA,CAAAM,QAAQ,EAAmB,EAAE,CAAC;EAC5E,MAAM,CAACK,OAAO,EAAEC,UAAU,CAAC;EAAA;EAAA,CAAAf,aAAA,GAAAE,CAAA,OAAG,IAAAC,OAAA,CAAAM,QAAQ,EAAC,KAAK,CAAC;EAC7C,MAAM,CAACO,KAAK,EAAEC,QAAQ,CAAC;EAAA;EAAA,CAAAjB,aAAA,GAAAE,CAAA,OAAG,IAAAC,OAAA,CAAAM,QAAQ,EAAgB,IAAI,CAAC;EAEvD,MAAMS,WAAW;EAAA;EAAA,CAAAlB,aAAA,GAAAE,CAAA,OAAG,IAAAC,OAAA,CAAAgB,WAAW,EAC7B,MAAOC,OAAe,IAAI;IAAA;IAAApB,aAAA,GAAAM,CAAA;IAAAN,aAAA,GAAAE,CAAA;IACxB,IAAI,CAACkB,OAAO,CAACC,IAAI,EAAE,EAAE;MAAA;MAAArB,aAAA,GAAAsB,CAAA;MAAAtB,aAAA,GAAAE,CAAA;MAAA;IAAA,CAAO;IAAA;IAAA;MAAAF,aAAA,GAAAsB,CAAA;IAAA;IAAAtB,aAAA,GAAAE,CAAA;IAE5Ba,UAAU,CAAC,IAAI,CAAC;IAAC;IAAAf,aAAA,GAAAE,CAAA;IACjBe,QAAQ,CAAC,IAAI,CAAC;IAEd;IACA,MAAMM,WAAW;IAAA;IAAA,CAAAvB,aAAA,GAAAE,CAAA,QAAY;MAC3BsB,EAAE,EAAEC,IAAI,CAACC,GAAG,EAAE,CAACC,QAAQ,EAAE;MACzBC,IAAI,EAAE,MAAM;MACZR,OAAO,EAAEA,OAAO,CAACC,IAAI,EAAE;MACvBQ,SAAS,EAAE,IAAIJ,IAAI;KACpB;IAAC;IAAAzB,aAAA,GAAAE,CAAA;IACFS,WAAW,CAACmB,IAAI,IAAI;MAAA;MAAA9B,aAAA,GAAAM,CAAA;MAAAN,aAAA,GAAAE,CAAA;MAAA,QAAC,GAAG4B,IAAI,EAAEP,WAAW,CAAC;IAAD,CAAC,CAAC;IAAC;IAAAvB,aAAA,GAAAE,CAAA;IAE5C,IAAI;MACF;MACA;MAEA;MACA,MAAM6B,SAAS;MAAA;MAAA,CAAA/B,aAAA,GAAAE,CAAA,QAAY;QACzBsB,EAAE,EAAE,CAACC,IAAI,CAACC,GAAG,EAAE,GAAG,CAAC,EAAEC,QAAQ,EAAE;QAC/BC,IAAI,EAAE,WAAW;QACjBR,OAAO,EAAE,kCAAkC;QAC3CS,SAAS,EAAE,IAAIJ,IAAI;OACpB;MAAC;MAAAzB,aAAA,GAAAE,CAAA;MACFS,WAAW,CAACmB,IAAI,IAAI;QAAA;QAAA9B,aAAA,GAAAM,CAAA;QAAAN,aAAA,GAAAE,CAAA;QAAA,QAAC,GAAG4B,IAAI,EAAEC,SAAS,CAAC;MAAD,CAAC,CAAC;IAC3C,CAAC,CAAC,OAAOC,GAAG,EAAE;MAAA;MAAAhC,aAAA,GAAAE,CAAA;MACZe,QAAQ,CAACe,GAAG,YAAYC,KAAK;MAAA;MAAA,CAAAjC,aAAA,GAAAsB,CAAA,UAAGU,GAAG,CAACE,OAAO;MAAA;MAAA,CAAAlC,aAAA,GAAAsB,CAAA,UAAG,mCAAmC,EAAC;IACpF,CAAC,SAAS;MAAA;MAAAtB,aAAA,GAAAE,CAAA;MACRa,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC,EACD,CAACR,OAAO,CAAC,CACV;EAED,MAAM4B,kBAAkB;EAAA;EAAA,CAAAnC,aAAA,GAAAE,CAAA,QAAG,IAAAC,OAAA,CAAAgB,WAAW,EAAC,YAAW;IAAA;IAAAnB,aAAA,GAAAM,CAAA;IAAAN,aAAA,GAAAE,CAAA;IAChDa,UAAU,CAAC,IAAI,CAAC;IAAC;IAAAf,aAAA,GAAAE,CAAA;IACjBe,QAAQ,CAAC,IAAI,CAAC;IAAC;IAAAjB,aAAA,GAAAE,CAAA;IACf,IAAI;MACF;MACA;MACA;IAAA,CACD,CAAC,OAAO8B,GAAG,EAAE;MAAA;MAAAhC,aAAA,GAAAE,CAAA;MACZe,QAAQ,CACNe,GAAG,YAAYC,KAAK;MAAA;MAAA,CAAAjC,aAAA,GAAAsB,CAAA,UAAGU,GAAG,CAACE,OAAO;MAAA;MAAA,CAAAlC,aAAA,GAAAsB,CAAA,UAAG,+CAA+C,EACrF;IACH,CAAC,SAAS;MAAA;MAAAtB,aAAA,GAAAE,CAAA;MACRa,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMqB,YAAY;EAAA;EAAA,CAAApC,aAAA,GAAAE,CAAA,QAAG,IAAAC,OAAA,CAAAgB,WAAW,EAAC,OAAOkB,KAAa,EAAEC,MAAc,KAAI;IAAA;IAAAtC,aAAA,GAAAM,CAAA;IAAAN,aAAA,GAAAE,CAAA;IACvEa,UAAU,CAAC,IAAI,CAAC;IAAC;IAAAf,aAAA,GAAAE,CAAA;IACjBe,QAAQ,CAAC,IAAI,CAAC;IAAC;IAAAjB,aAAA,GAAAE,CAAA;IACf,IAAI;MACF;MACA;MACA;MACA;MACA;IAAA,CACD,CAAC,OAAO8B,GAAG,EAAE;MAAA;MAAAhC,aAAA,GAAAE,CAAA;MACZe,QAAQ,CAACe,GAAG,YAAYC,KAAK;MAAA;MAAA,CAAAjC,aAAA,GAAAsB,CAAA,UAAGU,GAAG,CAACE,OAAO;MAAA;MAAA,CAAAlC,aAAA,GAAAsB,CAAA,UAAG,wCAAwC,EAAC;IACzF,CAAC,SAAS;MAAA;MAAAtB,aAAA,GAAAE,CAAA;MACRa,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMwB,YAAY;EAAA;EAAA,CAAAvC,aAAA,GAAAE,CAAA,QAAG,IAAAC,OAAA,CAAAgB,WAAW,EAAC,MAAK;IAAA;IAAAnB,aAAA,GAAAM,CAAA;IAAAN,aAAA,GAAAE,CAAA;IACpCM,UAAU,CAAC,IAAI,CAAC;IAAC;IAAAR,aAAA,GAAAE,CAAA;IACjBS,WAAW,CAAC,EAAE,CAAC;IAAC;IAAAX,aAAA,GAAAE,CAAA;IAChBW,kBAAkB,CAAC,EAAE,CAAC;IAAC;IAAAb,aAAA,GAAAE,CAAA;IACvBe,QAAQ,CAAC,IAAI,CAAC;EAChB,CAAC,EAAE,EAAE,CAAC;EAAC;EAAAjB,aAAA,GAAAE,CAAA;EAEP,OAAO;IACLK,OAAO;IACPG,QAAQ;IACRE,eAAe;IACfE,OAAO;IACPE,KAAK;IACLE,WAAW;IACXiB,kBAAkB;IAClBC,YAAY;IACZG;GACD;AACH,CAAC;AAAC;AAAAvC,aAAA,GAAAE,CAAA;AA9FWsC,OAAA,CAAAnC,UAAU,GAAAA,UAAA","ignoreList":[]}