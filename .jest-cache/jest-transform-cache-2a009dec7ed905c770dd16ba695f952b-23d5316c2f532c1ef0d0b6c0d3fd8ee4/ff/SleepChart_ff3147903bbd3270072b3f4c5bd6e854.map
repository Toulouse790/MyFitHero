{"version":3,"names":["cov_zdmliddqd","actualCoverage","lucide_react_1","s","require","react_1","__importDefault","card_1","sleepConfig_1","SleepChart","stats","className","b","f","weeklyData","length","jsx_runtime_1","jsxs","Card","children","jsx","CardHeader","CardTitle","BarChart3","size","CardContent","Moon","maxDuration","Math","max","map","d","duration","maxQuality","TrendingUp","trend","direction","day","index","durationPercent","qualityPercent","quality","dayName","Date","date","toLocaleDateString","weekday","qualityInfo","getSleepQualityLabel","formatDuration","color","style","width","averageDuration","averageQuality","toFixed","exports","default"],"sources":["/workspaces/MyFitHero/src/features/sleep/components/SleepChart.tsx"],"sourcesContent":["import { Info, Moon, TrendingUp, BarChart3 } from 'lucide-react';\nimport React from 'react';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport type { SleepStats, SleepDayData } from '@/features/sleep/types';\nimport { formatDuration, getSleepQualityLabel } from '@/features/sleep/utils/sleepConfig';\n\ninterface SleepChartProps {\n  stats: SleepStats;\n  className?: string;\n}\n\nexport const SleepChart: React.FC<SleepChartProps> = ({ stats, className = '' }) => {\n  if (!stats || !stats.weeklyData.length) {\n    return (\n      <Card className={className}>\n        <CardHeader>\n          <CardTitle className=\"flex items-center\">\n            <BarChart3 className=\"mr-2\" size={20} />\n            Analyse hebdomadaire\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"text-center py-8 text-gray-500\">\n            <Moon size={48} className=\"mx-auto mb-4 opacity-50\" />\n            <p>Pas assez de données pour l'analyse</p>\n            <p className=\"text-sm\">Enregistrez quelques nuits de sommeil</p>\n          </div>\n        </CardContent>\n      </Card>\n    );\n  }\n\n  const maxDuration = Math.max(...stats.weeklyData.map((d: any) => d.duration));\n  const maxQuality = 10;\n\n  return (\n    <Card className={className}>\n      <CardHeader>\n        <CardTitle className=\"flex items-center justify-between\">\n          <div className=\"flex items-center\">\n            <BarChart3 className=\"mr-2\" size={20} />\n            Analyse hebdomadaire\n          </div>\n          <div className=\"flex items-center space-x-2 text-sm\">\n            <TrendingUp\n              size={16}\n              className={\n                stats.trend.direction === 'up'\n                  ? 'text-green-500'\n                  : stats.trend.direction === 'down'\n                    ? 'text-red-500'\n                    : 'text-gray-500'\n              }\n            />\n            <span\n              className={\n                stats.trend.direction === 'up'\n                  ? 'text-green-600'\n                  : stats.trend.direction === 'down'\n                    ? 'text-red-600'\n                    : 'text-gray-600'\n              }\n            >\n              {stats.trend.direction === 'up'\n                ? 'En amélioration'\n                : stats.trend.direction === 'down'\n                  ? 'En baisse'\n                  : 'Stable'}\n            </span>\n          </div>\n        </CardTitle>\n      </CardHeader>\n      <CardContent>\n        <div className=\"space-y-4\">\n          {/* Graphique en barres simple */}\n          <div className=\"space-y-2\">\n            {stats.weeklyData.map((day: any, index: number) => {\n              const durationPercent = (day.duration / maxDuration) * 100;\n              const qualityPercent = (day.quality / maxQuality) * 100;\n              const dayName = new Date(day.date).toLocaleDateString('fr-FR', { weekday: 'short' });\n              const qualityInfo = getSleepQualityLabel(day.quality);\n\n              return (\n                <div key={day.date} className=\"space-y-1\">\n                  <div className=\"flex justify-between items-center text-sm\">\n                    <span className=\"font-medium\">{dayName}</span>\n                    <div className=\"flex items-center space-x-4\">\n                      <span>{formatDuration(day.duration)}</span>\n                      <span className={`${qualityInfo.color} text-xs`}>{day.quality}/10</span>\n                    </div>\n                  </div>\n\n                  <div className=\"flex space-x-2\">\n                    {/* Barre durée */}\n                    <div className=\"flex-1 bg-gray-200 rounded-full h-2 overflow-hidden\">\n                      <div\n                        className=\"h-full bg-blue-500 transition-all duration-300\"\n                        style={{ width: `${durationPercent}%` }}\n                      />\n                    </div>\n\n                    {/* Barre qualité */}\n                    <div className=\"w-16 bg-gray-200 rounded-full h-2 overflow-hidden\">\n                      <div\n                        className={`h-full transition-all duration-300 ${\n                          day.quality >= 7\n                            ? 'bg-green-500'\n                            : day.quality >= 5\n                              ? 'bg-yellow-500'\n                              : 'bg-red-500'\n                        }`}\n                        style={{ width: `${qualityPercent}%` }}\n                      />\n                    </div>\n                  </div>\n                </div>\n              );\n            })}\n          </div>\n\n          {/* Légende */}\n          <div className=\"flex justify-between items-center text-xs text-gray-500 pt-2 border-t\">\n            <div className=\"flex items-center space-x-4\">\n              <div className=\"flex items-center space-x-1\">\n                <div className=\"w-3 h-2 bg-blue-500 rounded-full\"></div>\n                <span>Durée</span>\n              </div>\n              <div className=\"flex items-center space-x-1\">\n                <div className=\"w-3 h-2 bg-green-500 rounded-full\"></div>\n                <span>Qualité</span>\n              </div>\n            </div>\n            <div className=\"text-right\">\n              <div>Moy: {formatDuration(stats.averageDuration)}</div>\n              <div>Qualité: {stats.averageQuality.toFixed(1)}/10</div>\n            </div>\n          </div>\n        </div>\n      </CardContent>\n    </Card>\n  );\n};\n\nexport default SleepChart;\n"],"mappings":"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","ignoreList":[]}