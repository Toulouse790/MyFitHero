{"version":3,"names":["MarketingAnalyticsService","constructor","cov_21obcsxq40","f","s","Object","defineProperty","sessionId","generateSessionId","initializeTrackingParams","setupPageViewTracking","Date","now","Math","random","toString","substr","window","b","urlParams","URLSearchParams","location","search","source","get","document","referrer","medium","campaign","undefined","trackPageView","trackScrollDepth","trackTimeOnPage","setUserId","userId","track","path","pathname","title","trackCTAClick","section","ctaText","cta_text","conversion_potential","calculateConversionPotential","gtag","event_category","event_label","value","getEventValue","trackSignup","plan","funnel_step","trackTrialStart","trial_length","trackPurchase","amount","currency","revenue","transaction_id","items","item_id","item_name","category","quantity","price","trackVideoPlay","videoUrl","video_url","engagement_type","trackFormStart","formType","trackFormComplete","conversion_step","scrollThresholds","trackedDepths","Set","handleScroll","scrollPercent","round","scrollY","documentElement","scrollHeight","innerHeight","forEach","threshold","has","add","scroll_depth","addEventListener","passive","startTime","timeThresholds","trackedTimes","interval","setInterval","timeOnPage","time_threshold","clearInterval","sectionWeights","sectionValues","event","extra","eventData","timestamp","toISOString","page","userAgent","navigator","fetch","method","headers","body","JSON","stringify","error","console","warn","storeEventLocally","stored","localStorage","getItem","events","parse","push","length","splice","setItem","getStoredEvents","getLandingMetrics","response","json","totalViews","uniqueVisitors","conversionRate","bounceRate","averageSessionTime","ctaClickRate","signupRate","trialStartRate","paidConversionRate","revenuePerVisitor","exports","marketingAnalytics","default"],"sources":["/workspaces/MyFitHero/src/features/landing/services/marketing-analytics.service.ts"],"sourcesContent":["// Marketing Analytics Service for Landing Page Optimization\nexport interface MarketingEvent {\n  event: string;\n  section: string;\n  timestamp: string;\n  userId?: string;\n  sessionId: string;\n  page: string;\n  source?: string;\n  medium?: string;\n  campaign?: string;\n  content?: string;\n  term?: string;\n  referrer?: string;\n  userAgent?: string;\n  extra?: Record<string, any>;\n}\n\nexport interface ConversionFunnel {\n  step: 'view' | 'engage' | 'signup' | 'trial' | 'convert';\n  source: string;\n  timestamp: string;\n  value?: number;\n}\n\nexport interface LandingPageMetrics {\n  totalViews: number;\n  uniqueVisitors: number;\n  conversionRate: number;\n  bounceRate: number;\n  averageSessionTime: number;\n  ctaClickRate: number;\n  signupRate: number;\n  trialStartRate: number;\n  paidConversionRate: number;\n  revenuePerVisitor: number;\n}\n\nclass MarketingAnalyticsService {\n  private sessionId: string;\n  private userId?: string;\n  private source?: string;\n  private medium?: string;\n  private campaign?: string;\n\n  constructor() {\n    this.sessionId = this.generateSessionId();\n    this.initializeTrackingParams();\n    this.setupPageViewTracking();\n  }\n\n  private generateSessionId(): string {\n    return `sess_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n  }\n\n  private initializeTrackingParams(): void {\n    if (typeof window === 'undefined') return;\n\n    const urlParams = new URLSearchParams(window.location.search);\n    this.source = urlParams.get('utm_source') || document.referrer || 'direct';\n    this.medium = urlParams.get('utm_medium') || 'organic';\n    this.campaign = urlParams.get('utm_campaign') || undefined;\n  }\n\n  private setupPageViewTracking(): void {\n    if (typeof window === 'undefined') return;\n\n    // Track initial page view\n    this.trackPageView();\n\n    // Track scroll depth\n    this.trackScrollDepth();\n\n    // Track time on page\n    this.trackTimeOnPage();\n  }\n\n  public setUserId(userId: string): void {\n    this.userId = userId;\n  }\n\n  public async trackPageView(): Promise<void> {\n    await this.track('page_view', 'landing', {\n      path: window.location.pathname,\n      title: document.title,\n    });\n  }\n\n  public async trackCTAClick(section: string, ctaText?: string): Promise<void> {\n    await this.track('cta_click', section, {\n      cta_text: ctaText,\n      conversion_potential: this.calculateConversionPotential(section),\n    });\n\n    // Track in Google Analytics if available\n    if ((window as any).gtag) {\n      (window as any).gtag('event', 'cta_click', {\n        event_category: 'Landing',\n        event_label: section,\n        value: this.getEventValue(section),\n      });\n    }\n  }\n\n  public async trackSignup(plan?: string, source?: string): Promise<void> {\n    await this.track('signup', 'conversion', {\n      plan,\n      source: source || this.source,\n      funnel_step: 'signup_complete',\n    });\n  }\n\n  public async trackTrialStart(plan: string): Promise<void> {\n    await this.track('trial_start', 'conversion', {\n      plan,\n      funnel_step: 'trial_start',\n      trial_length: '14_days',\n    });\n  }\n\n  public async trackPurchase(plan: string, amount: number, currency: string = 'EUR'): Promise<void> {\n    await this.track('purchase', 'conversion', {\n      plan,\n      amount,\n      currency,\n      funnel_step: 'purchase_complete',\n      revenue: amount,\n    });\n\n    // Track in Google Analytics if available\n    if ((window as any).gtag) {\n      (window as any).gtag('event', 'purchase', {\n        transaction_id: `txn_${Date.now()}`,\n        value: amount,\n        currency,\n        items: [{\n          item_id: plan,\n          item_name: `MyFitHero ${plan}`,\n          category: 'Subscription',\n          quantity: 1,\n          price: amount,\n        }],\n      });\n    }\n  }\n\n  public async trackVideoPlay(section: string, videoUrl: string): Promise<void> {\n    await this.track('video_play', section, {\n      video_url: videoUrl,\n      engagement_type: 'video',\n    });\n  }\n\n  public async trackFormStart(formType: string): Promise<void> {\n    await this.track('form_start', formType, {\n      engagement_type: 'form',\n    });\n  }\n\n  public async trackFormComplete(formType: string): Promise<void> {\n    await this.track('form_complete', formType, {\n      engagement_type: 'form',\n      conversion_step: 'form_complete',\n    });\n  }\n\n  private async trackScrollDepth(): Promise<void> {\n    const scrollThresholds = [25, 50, 75, 90, 100];\n    const trackedDepths = new Set<number>();\n\n    const handleScroll = () => {\n      const scrollPercent = Math.round(\n        (window.scrollY / (document.documentElement.scrollHeight - window.innerHeight)) * 100\n      );\n\n      scrollThresholds.forEach(threshold => {\n        if (scrollPercent >= threshold && !trackedDepths.has(threshold)) {\n          trackedDepths.add(threshold);\n          this.track('scroll_depth', 'engagement', {\n            scroll_depth: threshold,\n            engagement_type: 'scroll',\n          });\n        }\n      });\n    };\n\n    window.addEventListener('scroll', handleScroll, { passive: true });\n  }\n\n  private async trackTimeOnPage(): Promise<void> {\n    const startTime = Date.now();\n    const timeThresholds = [10, 30, 60, 120, 300]; // seconds\n    const trackedTimes = new Set<number>();\n\n    const interval = setInterval(() => {\n      const timeOnPage = Math.round((Date.now() - startTime) / 1000);\n\n      timeThresholds.forEach(threshold => {\n        if (timeOnPage >= threshold && !trackedTimes.has(threshold)) {\n          trackedTimes.add(threshold);\n          this.track('time_on_page', 'engagement', {\n            time_threshold: threshold,\n            engagement_type: 'time',\n          });\n        }\n      });\n\n      // Stop tracking after 10 minutes\n      if (timeOnPage > 600) {\n        clearInterval(interval);\n      }\n    }, 5000);\n\n    // Clean up on page unload\n    window.addEventListener('beforeunload', () => clearInterval(interval));\n  }\n\n  private calculateConversionPotential(section: string): number {\n    const sectionWeights: Record<string, number> = {\n      'hero': 10,\n      'features': 7,\n      'pricing': 9,\n      'testimonials': 6,\n      'final-cta': 10,\n      'demo-request': 8,\n    };\n    return sectionWeights[section] || 5;\n  }\n\n  private getEventValue(section: string): number {\n    const sectionValues: Record<string, number> = {\n      'hero': 100,\n      'pricing': 150,\n      'final-cta': 200,\n      'demo-request': 120,\n    };\n    return sectionValues[section] || 50;\n  }\n\n  private async track(event: string, section: string, extra: Record<string, any> = {}): Promise<void> {\n    const eventData: MarketingEvent = {\n      event,\n      section,\n      timestamp: new Date().toISOString(),\n      userId: this.userId,\n      sessionId: this.sessionId,\n      page: 'landing',\n      source: this.source,\n      medium: this.medium,\n      campaign: this.campaign,\n      referrer: document.referrer,\n      userAgent: navigator.userAgent,\n      extra,\n    };\n\n    try {\n      // Send to your analytics backend\n      await fetch('/api/analytics/marketing', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(eventData),\n      });\n\n      // Log for development\n    } catch (error: any) {\n      console.warn('Failed to track marketing event:', error);\n      // Store in localStorage as fallback\n      this.storeEventLocally(eventData);\n    }\n  }\n\n  private storeEventLocally(event: MarketingEvent): void {\n    try {\n      const stored = localStorage.getItem('myfithero_analytics') || '[]';\n      const events = JSON.parse(stored);\n      events.push(event);\n      \n      // Keep only last 100 events\n      if (events.length > 100) {\n        events.splice(0, events.length - 100);\n      }\n      \n      localStorage.setItem('myfithero_analytics', JSON.stringify(events));\n    } catch (error: any) {\n      console.warn('Failed to store event locally:', error);\n    }\n  }\n\n  public async getStoredEvents(): Promise<MarketingEvent[]> {\n    try {\n      const stored = localStorage.getItem('myfithero_analytics') || '[]';\n      return JSON.parse(stored);\n    } catch (error: any) {\n      console.warn('Failed to get stored events:', error);\n      return [];\n    }\n  }\n\n  public async getLandingMetrics(): Promise<LandingPageMetrics> {\n    try {\n      const response = await fetch('/api/analytics/landing-metrics');\n      return await response.json();\n    } catch (error: any) {\n      console.warn('Failed to get landing metrics:', error);\n      // Return mock data for development\n      return {\n        totalViews: 15420,\n        uniqueVisitors: 12890,\n        conversionRate: 3.2,\n        bounceRate: 42.1,\n        averageSessionTime: 165,\n        ctaClickRate: 8.7,\n        signupRate: 3.2,\n        trialStartRate: 2.8,\n        paidConversionRate: 1.4,\n        revenuePerVisitor: 2.84,\n      };\n    }\n  }\n}\n\n// Singleton instance\nexport const marketingAnalytics = new MarketingAnalyticsService();\n\nexport default marketingAnalytics;"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}