{"version":3,"names":["react_1","cov_127ys40t13","s","__importStar","require","appStore_1","use_toast_1","UserProfileTabs_1","__importDefault","UserProfileHeader_1","PhysicalDataForm_1","ConnectedScales_1","WeightHistory_1","ProfileStats_1","ProfilePage","f","toast","useToast","appStoreUser","updateUserProfile","appStore","currentWeight","setCurrentWeight","useState","height","setHeight","age","setAge","gender","setGender","activityLevel","setActivityLevel","fitnessGoal","setFitnessGoal","showWeightHistory","setShowWeightHistory","profileStats","useProfileStats","useEffect","b","weight","toString","handleSaveProfile","parseFloat","parseInt","activity_level","title","description","error","variant","jsx_runtime_1","jsx","className","children","jsxs","default","userProfile","user","stats","bmi","weightTrend","latestWeight","onWeightChange","onHeightChange","onAgeChange","onGenderChange","onActivityLevelChange","onFitnessGoalChange","isLoading","onSave","connectedScales","isScanning","isSyncing","onSyncScale","onScanForScales","weightHistory","onToggleHistory","exports"],"sources":["/workspaces/MyFitHero/src/features/profile/pages/ProfilePage.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { appStore } from '@/store/appStore';\nimport { useToast } from '@/shared/hooks/use-toast';\nimport AvatarUpload from '@/features/profile/components/AvatarUpload';\nimport UserProfileTabs from '@/features/profile/components/UserProfileTabs';\nimport UserProfileHeader from '@/features/profile/components/profile/UserProfileHeader';\nimport PhysicalDataForm from '@/features/profile/components/profile/PhysicalDataForm';\nimport ConnectedScales from '@/features/profile/components/profile/ConnectedScales';\nimport WeightHistory from '@/features/profile/components/profile/WeightHistory';\nimport { useProfileStats } from '@/features/profile/components/profile/ProfileStats';\n\nconst ProfilePage: React.FC = () => {\n  const { toast } = useToast();\n  const { appStoreUser, updateUserProfile } = appStore();\n  \n  const [currentWeight, setCurrentWeight] = useState('70');\n  const [height, setHeight] = useState('175');\n  const [age, setAge] = useState('25');\n  const [gender, setGender] = useState('');\n  const [activityLevel, setActivityLevel] = useState('moderate');\n  const [fitnessGoal, setFitnessGoal] = useState('maintain');\n  const [showWeightHistory, setShowWeightHistory] = useState(false);\n\n  const profileStats = useProfileStats(currentWeight, height, []);\n\n  useEffect(() => {\n    if (appStoreUser) {\n      setCurrentWeight(appStoreUser.weight?.toString() || '70');\n      setHeight(appStoreUser.height?.toString() || '175');\n      setAge(appStoreUser.age?.toString() || '25');\n      setGender(appStoreUser.gender || '');\n    }\n  }, [appStoreUser]);\n\n  const handleSaveProfile = async () => {\n    try {\n      await updateUserProfile({\n        weight: parseFloat(currentWeight),\n        height: parseFloat(height),\n        age: parseInt(age),\n        gender: gender as 'male' | 'female' | 'other',\n        activity_level: activityLevel as 'sedentary' | 'lightly_active' | 'moderately_active' | 'very_active' | 'extremely_active',\n      });\n      toast({\n        title: 'Profil mis à jour',\n        description: 'Vos informations ont été sauvegardées avec succès.',\n      });\n    } catch (error: any) {\n      toast({\n        title: 'Erreur',\n        description: 'Impossible de sauvegarder les modifications.',\n        variant: 'destructive',\n      });\n    }\n  };\n\n  if (!appStoreUser) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <h2 className=\"text-xl font-semibold text-gray-600\">\n            Chargement du profil...\n          </h2>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 pb-8\">\n      <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 pt-8\">\n        <UserProfileHeader\n          userProfile={appStoreUser}\n          user={appStoreUser}\n          stats={profileStats}\n          bmi={profileStats.bmi}\n          weightTrend={profileStats.weightTrend as { type: 'up' | 'down' | 'stable'; diff: number; } | null}\n          latestWeight={profileStats.latestWeight}\n        />\n\n        <PhysicalDataForm\n          currentWeight={currentWeight}\n          onWeightChange={setCurrentWeight}\n          height={height}\n          onHeightChange={setHeight}\n          age={age}\n          onAgeChange={setAge}\n          gender={gender}\n          onGenderChange={setGender}\n          activityLevel={activityLevel}\n          onActivityLevelChange={setActivityLevel}\n          fitnessGoal={fitnessGoal}\n          onFitnessGoalChange={setFitnessGoal}\n          isLoading={false}\n          onSave={handleSaveProfile}\n        />\n\n        <ConnectedScales \n          connectedScales={[]}\n          isScanning={false}\n          isSyncing={false}\n          onSyncScale={() => {}}\n          onScanForScales={() => {}}\n        />\n\n        <WeightHistory\n          weightHistory={[]}\n          showWeightHistory={showWeightHistory}\n          onToggleHistory={() => setShowWeightHistory(!showWeightHistory)}\n        />\n\n        <UserProfileTabs />\n      </div>\n    </div>\n  );\n};\n\nexport default ProfilePage;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,MAAAA,OAAA;AAAA;AAAA,CAAAC,cAAA,GAAAC,CAAA,QAAAC,YAAA,CAAAC,OAAA;AACA,MAAAC,UAAA;AAAA;AAAA,CAAAJ,cAAA,GAAAC,CAAA,QAAAE,OAAA;AACA,MAAAE,WAAA;AAAA;AAAA,CAAAL,cAAA,GAAAC,CAAA,QAAAE,OAAA;AAEA,MAAAG,iBAAA;AAAA;AAAA,CAAAN,cAAA,GAAAC,CAAA,QAAAM,eAAA,CAAAJ,OAAA;AACA,MAAAK,mBAAA;AAAA;AAAA,CAAAR,cAAA,GAAAC,CAAA,QAAAM,eAAA,CAAAJ,OAAA;AACA,MAAAM,kBAAA;AAAA;AAAA,CAAAT,cAAA,GAAAC,CAAA,QAAAM,eAAA,CAAAJ,OAAA;AACA,MAAAO,iBAAA;AAAA;AAAA,CAAAV,cAAA,GAAAC,CAAA,QAAAM,eAAA,CAAAJ,OAAA;AACA,MAAAQ,eAAA;AAAA;AAAA,CAAAX,cAAA,GAAAC,CAAA,QAAAM,eAAA,CAAAJ,OAAA;AACA,MAAAS,cAAA;AAAA;AAAA,CAAAZ,cAAA,GAAAC,CAAA,QAAAE,OAAA;AAAqF;AAAAH,cAAA,GAAAC,CAAA;AAErF,MAAMY,WAAW,GAAaA,CAAA,KAAK;EAAA;EAAAb,cAAA,GAAAc,CAAA;EACjC,MAAM;IAAEC;EAAK,CAAE;EAAA;EAAA,CAAAf,cAAA,GAAAC,CAAA,QAAG,IAAAI,WAAA,CAAAW,QAAQ,GAAE;EAC5B,MAAM;IAAEC,YAAY;IAAEC;EAAiB,CAAE;EAAA;EAAA,CAAAlB,cAAA,GAAAC,CAAA,QAAG,IAAAG,UAAA,CAAAe,QAAQ,GAAE;EAEtD,MAAM,CAACC,aAAa,EAAEC,gBAAgB,CAAC;EAAA;EAAA,CAAArB,cAAA,GAAAC,CAAA,QAAG,IAAAF,OAAA,CAAAuB,QAAQ,EAAC,IAAI,CAAC;EACxD,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC;EAAA;EAAA,CAAAxB,cAAA,GAAAC,CAAA,QAAG,IAAAF,OAAA,CAAAuB,QAAQ,EAAC,KAAK,CAAC;EAC3C,MAAM,CAACG,GAAG,EAAEC,MAAM,CAAC;EAAA;EAAA,CAAA1B,cAAA,GAAAC,CAAA,QAAG,IAAAF,OAAA,CAAAuB,QAAQ,EAAC,IAAI,CAAC;EACpC,MAAM,CAACK,MAAM,EAAEC,SAAS,CAAC;EAAA;EAAA,CAAA5B,cAAA,GAAAC,CAAA,QAAG,IAAAF,OAAA,CAAAuB,QAAQ,EAAC,EAAE,CAAC;EACxC,MAAM,CAACO,aAAa,EAAEC,gBAAgB,CAAC;EAAA;EAAA,CAAA9B,cAAA,GAAAC,CAAA,QAAG,IAAAF,OAAA,CAAAuB,QAAQ,EAAC,UAAU,CAAC;EAC9D,MAAM,CAACS,WAAW,EAAEC,cAAc,CAAC;EAAA;EAAA,CAAAhC,cAAA,GAAAC,CAAA,QAAG,IAAAF,OAAA,CAAAuB,QAAQ,EAAC,UAAU,CAAC;EAC1D,MAAM,CAACW,iBAAiB,EAAEC,oBAAoB,CAAC;EAAA;EAAA,CAAAlC,cAAA,GAAAC,CAAA,QAAG,IAAAF,OAAA,CAAAuB,QAAQ,EAAC,KAAK,CAAC;EAEjE,MAAMa,YAAY;EAAA;EAAA,CAAAnC,cAAA,GAAAC,CAAA,QAAG,IAAAW,cAAA,CAAAwB,eAAe,EAAChB,aAAa,EAAEG,MAAM,EAAE,EAAE,CAAC;EAAC;EAAAvB,cAAA,GAAAC,CAAA;EAEhE,IAAAF,OAAA,CAAAsC,SAAS,EAAC,MAAK;IAAA;IAAArC,cAAA,GAAAc,CAAA;IAAAd,cAAA,GAAAC,CAAA;IACb,IAAIgB,YAAY,EAAE;MAAA;MAAAjB,cAAA,GAAAsC,CAAA;MAAAtC,cAAA,GAAAC,CAAA;MAChBoB,gBAAgB;MAAC;MAAA,CAAArB,cAAA,GAAAsC,CAAA,WAAArB,YAAY,CAACsB,MAAM,EAAEC,QAAQ,EAAE;MAAA;MAAA,CAAAxC,cAAA,GAAAsC,CAAA,WAAI,IAAI,EAAC;MAAC;MAAAtC,cAAA,GAAAC,CAAA;MAC1DuB,SAAS;MAAC;MAAA,CAAAxB,cAAA,GAAAsC,CAAA,WAAArB,YAAY,CAACM,MAAM,EAAEiB,QAAQ,EAAE;MAAA;MAAA,CAAAxC,cAAA,GAAAsC,CAAA,WAAI,KAAK,EAAC;MAAC;MAAAtC,cAAA,GAAAC,CAAA;MACpDyB,MAAM;MAAC;MAAA,CAAA1B,cAAA,GAAAsC,CAAA,WAAArB,YAAY,CAACQ,GAAG,EAAEe,QAAQ,EAAE;MAAA;MAAA,CAAAxC,cAAA,GAAAsC,CAAA,WAAI,IAAI,EAAC;MAAC;MAAAtC,cAAA,GAAAC,CAAA;MAC7C2B,SAAS;MAAC;MAAA,CAAA5B,cAAA,GAAAsC,CAAA,WAAArB,YAAY,CAACU,MAAM;MAAA;MAAA,CAAA3B,cAAA,GAAAsC,CAAA,WAAI,EAAE,EAAC;IACtC,CAAC;IAAA;IAAA;MAAAtC,cAAA,GAAAsC,CAAA;IAAA;EACH,CAAC,EAAE,CAACrB,YAAY,CAAC,CAAC;EAAC;EAAAjB,cAAA,GAAAC,CAAA;EAEnB,MAAMwC,iBAAiB,GAAG,MAAAA,CAAA,KAAW;IAAA;IAAAzC,cAAA,GAAAc,CAAA;IAAAd,cAAA,GAAAC,CAAA;IACnC,IAAI;MAAA;MAAAD,cAAA,GAAAC,CAAA;MACF,MAAMiB,iBAAiB,CAAC;QACtBqB,MAAM,EAAEG,UAAU,CAACtB,aAAa,CAAC;QACjCG,MAAM,EAAEmB,UAAU,CAACnB,MAAM,CAAC;QAC1BE,GAAG,EAAEkB,QAAQ,CAAClB,GAAG,CAAC;QAClBE,MAAM,EAAEA,MAAqC;QAC7CiB,cAAc,EAAEf;OACjB,CAAC;MAAC;MAAA7B,cAAA,GAAAC,CAAA;MACHc,KAAK,CAAC;QACJ8B,KAAK,EAAE,mBAAmB;QAC1BC,WAAW,EAAE;OACd,CAAC;IACJ,CAAC,CAAC,OAAOC,KAAU,EAAE;MAAA;MAAA/C,cAAA,GAAAC,CAAA;MACnBc,KAAK,CAAC;QACJ8B,KAAK,EAAE,QAAQ;QACfC,WAAW,EAAE,8CAA8C;QAC3DE,OAAO,EAAE;OACV,CAAC;IACJ;EACF,CAAC;EAAC;EAAAhD,cAAA,GAAAC,CAAA;EAEF,IAAI,CAACgB,YAAY,EAAE;IAAA;IAAAjB,cAAA,GAAAsC,CAAA;IAAAtC,cAAA,GAAAC,CAAA;IACjB,OACE,IAAAgD,aAAA,CAAAC,GAAA;MAAKC,SAAS,EAAC,0DAA0D;MAAAC,QAAA,EACvE,IAAAH,aAAA,CAAAC,GAAA;QAAKC,SAAS,EAAC,aAAa;QAAAC,QAAA,EAC1B,IAAAH,aAAA,CAAAC,GAAA;UAAIC,SAAS,EAAC,qCAAqC;UAAAC,QAAA;QAAA;MAE9C;IACD,EACF;EAEV,CAAC;EAAA;EAAA;IAAApD,cAAA,GAAAsC,CAAA;EAAA;EAAAtC,cAAA,GAAAC,CAAA;EAED,OACE,IAAAgD,aAAA,CAAAC,GAAA;IAAKC,SAAS,EAAC,8BAA8B;IAAAC,QAAA,EAC3C,IAAAH,aAAA,CAAAI,IAAA;MAAKF,SAAS,EAAC,6CAA6C;MAAAC,QAAA,GAC1D,IAAAH,aAAA,CAAAC,GAAA,EAAC1C,mBAAA,CAAA8C,OAAiB;QAChBC,WAAW,EAAEtC,YAAY;QACzBuC,IAAI,EAAEvC,YAAY;QAClBwC,KAAK,EAAEtB,YAAY;QACnBuB,GAAG,EAAEvB,YAAY,CAACuB,GAAG;QACrBC,WAAW,EAAExB,YAAY,CAACwB,WAAuE;QACjGC,YAAY,EAAEzB,YAAY,CAACyB;MAAY,EACvC,EAEF,IAAAX,aAAA,CAAAC,GAAA,EAACzC,kBAAA,CAAA6C,OAAgB;QACflC,aAAa,EAAEA,aAAa;QAC5ByC,cAAc,EAAExC,gBAAgB;QAChCE,MAAM,EAAEA,MAAM;QACduC,cAAc,EAAEtC,SAAS;QACzBC,GAAG,EAAEA,GAAG;QACRsC,WAAW,EAAErC,MAAM;QACnBC,MAAM,EAAEA,MAAM;QACdqC,cAAc,EAAEpC,SAAS;QACzBC,aAAa,EAAEA,aAAa;QAC5BoC,qBAAqB,EAAEnC,gBAAgB;QACvCC,WAAW,EAAEA,WAAW;QACxBmC,mBAAmB,EAAElC,cAAc;QACnCmC,SAAS,EAAE,KAAK;QAChBC,MAAM,EAAE3B;MAAiB,EACzB,EAEF,IAAAQ,aAAA,CAAAC,GAAA,EAACxC,iBAAA,CAAA4C,OAAe;QACde,eAAe,EAAE,EAAE;QACnBC,UAAU,EAAE,KAAK;QACjBC,SAAS,EAAE,KAAK;QAChBC,WAAW,EAAEA,CAAA,KAAK;UAAA;UAAAxE,cAAA,GAAAc,CAAA;QAAE,CAAC;QACrB2D,eAAe,EAAEA,CAAA,KAAK;UAAA;UAAAzE,cAAA,GAAAc,CAAA;QAAE;MAAC,EACzB,EAEF,IAAAmC,aAAA,CAAAC,GAAA,EAACvC,eAAA,CAAA2C,OAAa;QACZoB,aAAa,EAAE,EAAE;QACjBzC,iBAAiB,EAAEA,iBAAiB;QACpC0C,eAAe,EAAEA,CAAA,KAAM;UAAA;UAAA3E,cAAA,GAAAc,CAAA;UAAAd,cAAA,GAAAC,CAAA;UAAA,OAAAiC,oBAAoB,CAAC,CAACD,iBAAiB,CAAC;QAAD;MAAC,EAC/D,EAEF,IAAAgB,aAAA,CAAAC,GAAA,EAAC5C,iBAAA,CAAAgD,OAAe,KAAG;IAAA;EACf,EACF;AAEV,CAAC;AAAC;AAAAtD,cAAA,GAAAC,CAAA;AAEF2E,OAAA,CAAAtB,OAAA,GAAezC,WAAW","ignoreList":[]}