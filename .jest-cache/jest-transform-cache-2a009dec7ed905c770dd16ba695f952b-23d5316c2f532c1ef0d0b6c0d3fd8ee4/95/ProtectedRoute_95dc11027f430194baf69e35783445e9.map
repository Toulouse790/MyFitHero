{"version":3,"names":["cov_2i81o660q7","actualCoverage","react_1","s","__importDefault","require","wouter_1","supabase_1","appStore_1","ModuleActivationPage","moduleId","f","appStoreUser","activateModule","appStore","isActivating","setIsActivating","default","useState","b","jsx_runtime_1","jsx","className","children","jsxs","moduleConfigs","sport","title","icon","color","desc","bgGradient","nutrition","sleep","hydration","moduleConfig","handleActivate","success","setTimeout","window","location","reload","alert","error","console","profile_type","active_modules","join","onClick","disabled","ProtectedRoute","moduleRequired","loading","setLoading","session","setSession","useEffect","checkAuth","data","supabase","auth","getSession","Redirect","to","id","age","gender","userActiveModules","isModuleActive","includes","exports"],"sources":["/workspaces/MyFitHero/src/features/auth/components/ProtectedRoute.tsx"],"sourcesContent":["import React from 'react';\nimport { Redirect } from 'wouter';\nimport { supabase } from '@/lib/supabase';\nimport { appStore } from '@/store/appStore';\n\ninterface ProtectedRouteProps {\n  children: React.ReactElement;\n  moduleRequired?: 'sport' | 'nutrition' | 'sleep' | 'hydration';\n}\n\n// Page d'activation de module\nconst ModuleActivationPage = ({ moduleId }: { moduleId: string }) => {\n  const { appStoreUser, activateModule } = appStore();\n  const [isActivating, setIsActivating] = React.useState(false);\n\n  // Protection contre appStoreUser null/undefined\n  if (!appStoreUser) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center p-4\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4\"></div>\n          <p className=\"text-gray-600\">Chargement du profil...</p>\n        </div>\n      </div>\n    );\n  }\n\n  const moduleConfigs = {\n    sport: {\n      title: 'Sport',\n      icon: 'üèãÔ∏è',\n      color: 'red',\n      desc: \"Programmes d'entra√Ænement personnalis√©s\",\n      bgGradient: 'from-red-500 to-pink-500',\n    },\n    nutrition: {\n      title: 'Nutrition',\n      icon: 'üçé',\n      color: 'green',\n      desc: 'Plans alimentaires et suivi nutritionnel',\n      bgGradient: 'from-green-500 to-teal-500',\n    },\n    sleep: {\n      title: 'Sommeil',\n      icon: 'üò¥',\n      color: 'purple',\n      desc: 'Optimisation de votre r√©cup√©ration',\n      bgGradient: 'from-purple-500 to-indigo-500',\n    },\n    hydration: {\n      title: 'Hydratation',\n      icon: 'üíß',\n      color: 'blue',\n      desc: \"Suivi et conseils d'hydratation\",\n      bgGradient: 'from-blue-500 to-cyan-500',\n    },\n  } as const;\n\n  const moduleConfig = moduleConfigs[moduleId as keyof typeof moduleConfigs];\n\n  const handleActivate = async () => {\n    setIsActivating(true);\n    try {\n      const success = await activateModule(moduleId);\n\n      if (success) {\n        // Petit d√©lai pour voir l'animation\n        setTimeout(() => {\n          window.location.reload();\n        }, 1000);\n      } else {\n        alert(\"Erreur lors de l'activation du module\");\n      }\n    } catch (error: any) {\n      // Erreur silencieuse\n      console.error('Erreur activation:', error);\n      alert(\"Erreur lors de l'activation\");\n    } finally {\n      setIsActivating(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 flex items-center justify-center p-4\">\n      <div className=\"bg-white p-8 rounded-2xl shadow-xl text-center max-w-md\">\n        <div className=\"text-6xl mb-4\">{moduleConfig?.icon}</div>\n        <h1 className=\"text-2xl font-bold mb-4\">Module {moduleConfig?.title}</h1>\n        <p className=\"text-gray-600 mb-2\">{moduleConfig?.desc}</p>\n        <p className=\"text-sm text-gray-500 mb-6\">\n          Ce module n'est pas activ√© dans votre profil {appStoreUser.profile_type}.\n        </p>\n\n        <div className=\"mb-6 p-4 bg-gray-50 rounded-xl\">\n          <h3 className=\"font-semibold text-gray-800 mb-2\">Votre profil actuel :</h3>\n          <div className=\"text-sm text-gray-600 space-y-1\">\n            <p>‚Ä¢ Type : {appStoreUser.profile_type}</p>\n            <p>‚Ä¢ Modules actifs : {appStoreUser.active_modules?.join(', ') || 'Aucun'}</p>\n            <p>‚Ä¢ Sport : {appStoreUser.sport || 'Non d√©fini'}</p>\n          </div>\n        </div>\n\n        <button\n          onClick={handleActivate}\n          disabled={isActivating}\n          className={`w-full px-6 py-3 bg-gradient-to-r ${moduleConfig?.bgGradient} text-white rounded-xl font-bold hover:opacity-90 disabled:opacity-50 transition-all transform hover:scale-105 disabled:scale-100`}\n        >\n          {isActivating ? (\n            <div className=\"flex items-center justify-center space-x-2\">\n              <div className=\"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin\"></div>\n              <span>Activation...</span>\n            </div>\n          ) : (\n            `Activer ${moduleConfig?.title}`\n          )}\n        </button>\n\n        <p className=\"text-xs text-gray-400 mt-4\">\n          Activation gratuite et imm√©diate ‚Ä¢ Vous pouvez modifier vos modules dans Profil\n        </p>\n      </div>\n    </div>\n  );\n};\n\nconst ProtectedRoute: React.FC<ProtectedRouteProps> = ({ children, moduleRequired }) => {\n  const { appStoreUser } = appStore();\n  const [loading, setLoading] = React.useState(true);\n  const [session, setSession] = React.useState<any>(null);\n\n  React.useEffect(() => {\n    const checkAuth = async () => {\n      try {\n        const {\n          data: { session },\n        } = await supabase.auth.getSession();\n        setSession(session);\n      } catch (error: any) {\n      // Erreur silencieuse\n        console.error('Erreur v√©rification auth:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    checkAuth();\n  }, []);\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4\"></div>\n          <p className=\"text-gray-600\">V√©rification de l&apos;authentification...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (!session) {\n    // Redirection vers la page d'auth avec sauvegarde de la route\n    return <Redirect to=\"/auth\" />;\n  }\n\n  // Protection contre appStoreUser null/undefined\n  if (!appStoreUser) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4\"></div>\n          <p className=\"text-gray-600\">Chargement du profil utilisateur...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (!appStoreUser.id || !appStoreUser.age || !appStoreUser.gender) {\n    // Onboarding non termin√©\n    return <Redirect to=\"/\" />;\n  }\n\n  // V√©rification des modules actifs\n  if (moduleRequired) {\n    const userActiveModules = appStoreUser.active_modules || [];\n    const isModuleActive = userActiveModules.includes(moduleRequired);\n\n    if (!isModuleActive) {\n      return <ModuleActivationPage moduleId={moduleRequired} />;\n    }\n  }\n\n  return children;\n};\n\nexport default ProtectedRoute;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}